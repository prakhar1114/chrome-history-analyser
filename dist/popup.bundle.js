/*! For license information please see popup.bundle.js.LICENSE.txt */
(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){e=function(){return r};var n,r={},o=Object.prototype,i=o.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(n){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var o=e&&e.prototype instanceof w?e:w,i=Object.create(o.prototype),c=new S(r||[]);return a(i,"_invoke",{value:j(t,n,c)}),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=h;var y="suspendedStart",p="suspendedYield",m="executing",v="completed",g={};function w(){}function x(){}function E(){}var L={};f(L,u,(function(){return this}));var b=Object.getPrototypeOf,I=b&&b(b(T([])));I&&I!==o&&i.call(I,u)&&(L=I);var k=E.prototype=w.prototype=Object.create(L);function C(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function O(e,n){function r(o,a,c,u){var s=d(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==t(f)&&i.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):n.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return r("throw",t,c,u)}))}u(s.arg)}var o;a(this,"_invoke",{value:function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}})}function j(t,e,r){var o=y;return function(i,a){if(o===m)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=P(c,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===y)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var s=d(t,e,r);if("normal"===s.type){if(o=r.done?v:p,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,e){var r=e.method,o=t.iterator[r];if(o===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=n,P(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=d(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function B(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function T(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(i.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}throw new TypeError(t(e)+" is not iterable")}return x.prototype=E,a(k,"constructor",{value:E,configurable:!0}),a(E,"constructor",{value:x,configurable:!0}),x.displayName=f(E,l,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,f(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},r.awrap=function(t){return{__await:t}},C(O.prototype),f(O.prototype,s,(function(){return this})),r.AsyncIterator=O,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new O(h(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(k),f(k,l,"Generator"),f(k,u,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},r.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(B),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return c.type="throw",c.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),B(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;B(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}},r}function n(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var r,o;function i(){return(t=e().mark((function t(){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){if(r)t(r);else{var n=indexedDB.open("HistoryIndexerDB",1);n.onerror=function(t){console.error("Database error:",t.target.errorCode),e(t.target.errorCode)},n.onupgradeneeded=function(t){var e=(r=t.target.result).createObjectStore("history",{keyPath:"id"});e.createIndex("url","url",{unique:!1}),e.createIndex("title","title",{unique:!1}),e.createIndex("tags","tags",{unique:!1,multiEntry:!0}),e.createIndex("summary","summary",{unique:!1}),e.createIndex("lastVisitTime","lastVisitTime",{unique:!0}),console.log("Database upgraded")},n.onsuccess=function(e){r=e.target.result,t(r)}}})));case 1:case"end":return t.stop()}}),t)})),i=function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function c(t){n(a,o,i,c,u,"next",t)}function u(t){n(a,o,i,c,u,"throw",t)}c(void 0)}))}).apply(this,arguments);var t}function a(){chrome.storage.local.get("indexPercentage",(function(t){document.getElementById("indexPercentage").textContent="Indexed ".concat(t.indexPercentage,"% of history")}))}document.addEventListener("DOMContentLoaded",(function(){(function(){return i.apply(this,arguments)})().then((function(t){o=t})),document.getElementById("indexOldDataBtn").addEventListener("click",(function(){chrome.runtime.sendMessage({action:"indexOldData"},(function(t){console.log(t.status),alert("Indexing old data started. This may take a while.")}))})),document.getElementById("refreshBtn").addEventListener("click",(function(){chrome.runtime.sendMessage({action:"refreshIndexPercentage"},(function(t){console.log(t.status),a()}))})),document.getElementById("continueIndexing").addEventListener("click",(function(){chrome.runtime.sendMessage({action:"continueIndexing"},(function(t){console.log(t.status),alert("Indexing old data continued.")}))})),document.getElementById("searchBtn").addEventListener("click",(function(){var t=document.getElementById("searchInput").value.trim().toLowerCase();if(""!==t){var e=o.transaction(["history"],"readonly").objectStore("history"),n=[];e.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var o=r.value;(o.title&&o.title.toLowerCase().includes(t)||o.summary&&o.summary.toLowerCase().includes(t)||o.tags&&Array.isArray(o.tags)&&o.tags.some((function(e){return e.toLowerCase().includes(t)})))&&n.push(o),r.continue()}else!function(t){var e=document.getElementById("results");if(e.innerHTML="",0!==t.length){var n=document.createElement("div");n.className="scrollable-container",t.forEach((function(t){var e=document.createElement("div");e.className="result-item";var r=document.createElement("a");r.href=t.url,r.textContent=t.title||t.url,r.target="_blank";var o=document.createElement("p");o.textContent="Tags: ".concat(t.tags.join(", "));var i=document.createElement("p");i.textContent="Summary: ".concat(t.summary),e.appendChild(r),e.appendChild(o),e.appendChild(i),n.appendChild(e)})),e.appendChild(n),document.addEventListener("click",(function(t){e.contains(t.target)||(e.innerHTML="",document.getElementById("searchInput").value="")}))}else e.textContent="No results found."}(n)}}else alert("Please enter a search term.")})),document.getElementById("showDashboardBtn").addEventListener("click",(function(){chrome.runtime.sendMessage({action:"displaySummary"})})),a()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9wdXAuYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7c1FBQ0FBLEVBQUEsa0JBQUFDLENBQUEsTUFBQUMsRUFBQUQsRUFBQSxHQUFBRSxFQUFBQyxPQUFBQyxVQUFBQyxFQUFBSCxFQUFBSSxlQUFBQyxFQUFBSixPQUFBSyxnQkFBQSxTQUFBUCxFQUFBRCxFQUFBRSxHQUFBRCxFQUFBRCxHQUFBRSxFQUFBTyxLQUFBLEVBQUFDLEVBQUEsbUJBQUFDLE9BQUFBLE9BQUEsR0FBQUMsRUFBQUYsRUFBQUcsVUFBQSxhQUFBQyxFQUFBSixFQUFBSyxlQUFBLGtCQUFBQyxFQUFBTixFQUFBTyxhQUFBLHlCQUFBQyxFQUFBakIsRUFBQUQsRUFBQUUsR0FBQSxPQUFBQyxPQUFBSyxlQUFBUCxFQUFBRCxFQUFBLENBQUFTLE1BQUFQLEVBQUFpQixZQUFBLEVBQUFDLGNBQUEsRUFBQUMsVUFBQSxJQUFBcEIsRUFBQUQsRUFBQSxLQUFBa0IsRUFBQSxhQUFBakIsR0FBQWlCLEVBQUEsU0FBQWpCLEVBQUFELEVBQUFFLEdBQUEsT0FBQUQsRUFBQUQsR0FBQUUsQ0FBQSxXQUFBb0IsRUFBQXJCLEVBQUFELEVBQUFFLEVBQUFHLEdBQUEsSUFBQUssRUFBQVYsR0FBQUEsRUFBQUkscUJBQUFtQixFQUFBdkIsRUFBQXVCLEVBQUFYLEVBQUFULE9BQUFxQixPQUFBZCxFQUFBTixXQUFBVSxFQUFBLElBQUFXLEVBQUFwQixHQUFBLFdBQUFFLEVBQUFLLEVBQUEsV0FBQUgsTUFBQWlCLEVBQUF6QixFQUFBQyxFQUFBWSxLQUFBRixDQUFBLFVBQUFlLEVBQUExQixFQUFBRCxFQUFBRSxHQUFBLFdBQUEwQixLQUFBLFNBQUFDLElBQUE1QixFQUFBNkIsS0FBQTlCLEVBQUFFLEdBQUEsT0FBQUQsR0FBQSxPQUFBMkIsS0FBQSxRQUFBQyxJQUFBNUIsRUFBQSxFQUFBRCxFQUFBc0IsS0FBQUEsRUFBQSxJQUFBUyxFQUFBLGlCQUFBQyxFQUFBLGlCQUFBQyxFQUFBLFlBQUFDLEVBQUEsWUFBQUMsRUFBQSxZQUFBWixJQUFBLFVBQUFhLElBQUEsVUFBQUMsSUFBQSxLQUFBQyxFQUFBLEdBQUFwQixFQUFBb0IsRUFBQTFCLEdBQUEsOEJBQUEyQixFQUFBcEMsT0FBQXFDLGVBQUFDLEVBQUFGLEdBQUFBLEVBQUFBLEVBQUFHLEVBQUEsTUFBQUQsR0FBQUEsSUFBQXZDLEdBQUFHLEVBQUF5QixLQUFBVyxFQUFBN0IsS0FBQTBCLEVBQUFHLEdBQUEsSUFBQUUsRUFBQU4sRUFBQWpDLFVBQUFtQixFQUFBbkIsVUFBQUQsT0FBQXFCLE9BQUFjLEdBQUEsU0FBQU0sRUFBQTNDLEdBQUEsMEJBQUE0QyxTQUFBLFNBQUE3QyxHQUFBa0IsRUFBQWpCLEVBQUFELEdBQUEsU0FBQUMsR0FBQSxZQUFBNkMsUUFBQTlDLEVBQUFDLEVBQUEsZ0JBQUE4QyxFQUFBOUMsRUFBQUQsR0FBQSxTQUFBZ0QsRUFBQTlDLEVBQUFLLEVBQUFHLEVBQUFFLEdBQUEsSUFBQUUsRUFBQWEsRUFBQTFCLEVBQUFDLEdBQUFELEVBQUFNLEdBQUEsYUFBQU8sRUFBQWMsS0FBQSxLQUFBWixFQUFBRixFQUFBZSxJQUFBRSxFQUFBZixFQUFBUCxNQUFBLE9BQUFzQixHQUFBLFVBQUFrQixFQUFBbEIsSUFBQTFCLEVBQUF5QixLQUFBQyxFQUFBLFdBQUEvQixFQUFBa0QsUUFBQW5CLEVBQUFvQixTQUFBQyxNQUFBLFNBQUFuRCxHQUFBK0MsRUFBQSxPQUFBL0MsRUFBQVMsRUFBQUUsRUFBQSxhQUFBWCxHQUFBK0MsRUFBQSxRQUFBL0MsRUFBQVMsRUFBQUUsRUFBQSxJQUFBWixFQUFBa0QsUUFBQW5CLEdBQUFxQixNQUFBLFNBQUFuRCxHQUFBZSxFQUFBUCxNQUFBUixFQUFBUyxFQUFBTSxFQUFBLGFBQUFmLEdBQUEsT0FBQStDLEVBQUEsUUFBQS9DLEVBQUFTLEVBQUFFLEVBQUEsSUFBQUEsRUFBQUUsRUFBQWUsSUFBQSxLQUFBM0IsRUFBQUssRUFBQSxnQkFBQUUsTUFBQSxTQUFBUixFQUFBSSxHQUFBLFNBQUFnRCxJQUFBLFdBQUFyRCxHQUFBLFNBQUFBLEVBQUFFLEdBQUE4QyxFQUFBL0MsRUFBQUksRUFBQUwsRUFBQUUsRUFBQSxXQUFBQSxFQUFBQSxFQUFBQSxFQUFBa0QsS0FBQUMsRUFBQUEsR0FBQUEsR0FBQSxhQUFBM0IsRUFBQTFCLEVBQUFFLEVBQUFHLEdBQUEsSUFBQUUsRUFBQXdCLEVBQUEsZ0JBQUFyQixFQUFBRSxHQUFBLEdBQUFMLElBQUEwQixFQUFBLE1BQUFxQixNQUFBLG1DQUFBL0MsSUFBQTJCLEVBQUEsY0FBQXhCLEVBQUEsTUFBQUUsRUFBQSxPQUFBSCxNQUFBUixFQUFBc0QsTUFBQSxPQUFBbEQsRUFBQW1ELE9BQUE5QyxFQUFBTCxFQUFBd0IsSUFBQWpCLElBQUEsS0FBQUUsRUFBQVQsRUFBQW9ELFNBQUEsR0FBQTNDLEVBQUEsS0FBQUUsRUFBQTBDLEVBQUE1QyxFQUFBVCxHQUFBLEdBQUFXLEVBQUEsSUFBQUEsSUFBQW1CLEVBQUEsZ0JBQUFuQixDQUFBLGNBQUFYLEVBQUFtRCxPQUFBbkQsRUFBQXNELEtBQUF0RCxFQUFBdUQsTUFBQXZELEVBQUF3QixTQUFBLGFBQUF4QixFQUFBbUQsT0FBQSxJQUFBakQsSUFBQXdCLEVBQUEsTUFBQXhCLEVBQUEyQixFQUFBN0IsRUFBQXdCLElBQUF4QixFQUFBd0Qsa0JBQUF4RCxFQUFBd0IsSUFBQSxnQkFBQXhCLEVBQUFtRCxRQUFBbkQsRUFBQXlELE9BQUEsU0FBQXpELEVBQUF3QixLQUFBdEIsRUFBQTBCLEVBQUEsSUFBQUssRUFBQVgsRUFBQTNCLEVBQUFFLEVBQUFHLEdBQUEsY0FBQWlDLEVBQUFWLEtBQUEsSUFBQXJCLEVBQUFGLEVBQUFrRCxLQUFBckIsRUFBQUYsRUFBQU0sRUFBQVQsTUFBQU0sRUFBQSxnQkFBQTFCLE1BQUE2QixFQUFBVCxJQUFBMEIsS0FBQWxELEVBQUFrRCxLQUFBLFdBQUFqQixFQUFBVixPQUFBckIsRUFBQTJCLEVBQUE3QixFQUFBbUQsT0FBQSxRQUFBbkQsRUFBQXdCLElBQUFTLEVBQUFULElBQUEsWUFBQTZCLEVBQUExRCxFQUFBRSxHQUFBLElBQUFHLEVBQUFILEVBQUFzRCxPQUFBakQsRUFBQVAsRUFBQWEsU0FBQVIsR0FBQSxHQUFBRSxJQUFBTixFQUFBLE9BQUFDLEVBQUF1RCxTQUFBLGVBQUFwRCxHQUFBTCxFQUFBYSxTQUFBLFNBQUFYLEVBQUFzRCxPQUFBLFNBQUF0RCxFQUFBMkIsSUFBQTVCLEVBQUF5RCxFQUFBMUQsRUFBQUUsR0FBQSxVQUFBQSxFQUFBc0QsU0FBQSxXQUFBbkQsSUFBQUgsRUFBQXNELE9BQUEsUUFBQXRELEVBQUEyQixJQUFBLElBQUFrQyxVQUFBLG9DQUFBMUQsRUFBQSxhQUFBOEIsRUFBQSxJQUFBekIsRUFBQWlCLEVBQUFwQixFQUFBUCxFQUFBYSxTQUFBWCxFQUFBMkIsS0FBQSxhQUFBbkIsRUFBQWtCLEtBQUEsT0FBQTFCLEVBQUFzRCxPQUFBLFFBQUF0RCxFQUFBMkIsSUFBQW5CLEVBQUFtQixJQUFBM0IsRUFBQXVELFNBQUEsS0FBQXRCLEVBQUEsSUFBQXZCLEVBQUFGLEVBQUFtQixJQUFBLE9BQUFqQixFQUFBQSxFQUFBMkMsTUFBQXJELEVBQUFGLEVBQUFnRSxZQUFBcEQsRUFBQUgsTUFBQVAsRUFBQStELEtBQUFqRSxFQUFBa0UsUUFBQSxXQUFBaEUsRUFBQXNELFNBQUF0RCxFQUFBc0QsT0FBQSxPQUFBdEQsRUFBQTJCLElBQUE1QixHQUFBQyxFQUFBdUQsU0FBQSxLQUFBdEIsR0FBQXZCLEdBQUFWLEVBQUFzRCxPQUFBLFFBQUF0RCxFQUFBMkIsSUFBQSxJQUFBa0MsVUFBQSxvQ0FBQTdELEVBQUF1RCxTQUFBLEtBQUF0QixFQUFBLFVBQUFnQyxFQUFBbEUsR0FBQSxJQUFBRCxFQUFBLENBQUFvRSxPQUFBbkUsRUFBQSxTQUFBQSxJQUFBRCxFQUFBcUUsU0FBQXBFLEVBQUEsU0FBQUEsSUFBQUQsRUFBQXNFLFdBQUFyRSxFQUFBLEdBQUFELEVBQUF1RSxTQUFBdEUsRUFBQSxTQUFBdUUsV0FBQUMsS0FBQXpFLEVBQUEsVUFBQTBFLEVBQUF6RSxHQUFBLElBQUFELEVBQUFDLEVBQUEwRSxZQUFBLEdBQUEzRSxFQUFBNEIsS0FBQSxnQkFBQTVCLEVBQUE2QixJQUFBNUIsRUFBQTBFLFdBQUEzRSxDQUFBLFVBQUF5QixFQUFBeEIsR0FBQSxLQUFBdUUsV0FBQSxFQUFBSixPQUFBLFNBQUFuRSxFQUFBNEMsUUFBQXNCLEVBQUEsV0FBQVMsT0FBQSxZQUFBbEMsRUFBQTFDLEdBQUEsR0FBQUEsR0FBQSxLQUFBQSxFQUFBLEtBQUFFLEVBQUFGLEVBQUFZLEdBQUEsR0FBQVYsRUFBQSxPQUFBQSxFQUFBNEIsS0FBQTlCLEdBQUEsc0JBQUFBLEVBQUFpRSxLQUFBLE9BQUFqRSxFQUFBLElBQUE2RSxNQUFBN0UsRUFBQThFLFFBQUEsS0FBQXZFLEdBQUEsRUFBQUcsRUFBQSxTQUFBdUQsSUFBQSxPQUFBMUQsRUFBQVAsRUFBQThFLFFBQUEsR0FBQXpFLEVBQUF5QixLQUFBOUIsRUFBQU8sR0FBQSxPQUFBMEQsRUFBQXhELE1BQUFULEVBQUFPLEdBQUEwRCxFQUFBVixNQUFBLEVBQUFVLEVBQUEsT0FBQUEsRUFBQXhELE1BQUFSLEVBQUFnRSxFQUFBVixNQUFBLEVBQUFVLENBQUEsU0FBQXZELEVBQUF1RCxLQUFBdkQsQ0FBQSxZQUFBcUQsVUFBQWQsRUFBQWpELEdBQUEsMkJBQUFvQyxFQUFBaEMsVUFBQWlDLEVBQUE5QixFQUFBb0MsRUFBQSxlQUFBbEMsTUFBQTRCLEVBQUFqQixjQUFBLElBQUFiLEVBQUE4QixFQUFBLGVBQUE1QixNQUFBMkIsRUFBQWhCLGNBQUEsSUFBQWdCLEVBQUEyQyxZQUFBN0QsRUFBQW1CLEVBQUFyQixFQUFBLHFCQUFBaEIsRUFBQWdGLG9CQUFBLFNBQUEvRSxHQUFBLElBQUFELEVBQUEsbUJBQUFDLEdBQUFBLEVBQUFnRixZQUFBLFFBQUFqRixJQUFBQSxJQUFBb0MsR0FBQSx1QkFBQXBDLEVBQUErRSxhQUFBL0UsRUFBQWtGLE1BQUEsRUFBQWxGLEVBQUFtRixLQUFBLFNBQUFsRixHQUFBLE9BQUFFLE9BQUFpRixlQUFBakYsT0FBQWlGLGVBQUFuRixFQUFBb0MsSUFBQXBDLEVBQUFvRixVQUFBaEQsRUFBQW5CLEVBQUFqQixFQUFBZSxFQUFBLHNCQUFBZixFQUFBRyxVQUFBRCxPQUFBcUIsT0FBQW1CLEdBQUExQyxDQUFBLEVBQUFELEVBQUFzRixNQUFBLFNBQUFyRixHQUFBLE9BQUFrRCxRQUFBbEQsRUFBQSxFQUFBMkMsRUFBQUcsRUFBQTNDLFdBQUFjLEVBQUE2QixFQUFBM0MsVUFBQVUsR0FBQSwwQkFBQWQsRUFBQStDLGNBQUFBLEVBQUEvQyxFQUFBdUYsTUFBQSxTQUFBdEYsRUFBQUMsRUFBQUcsRUFBQUUsRUFBQUcsUUFBQSxJQUFBQSxJQUFBQSxFQUFBOEUsU0FBQSxJQUFBNUUsRUFBQSxJQUFBbUMsRUFBQXpCLEVBQUFyQixFQUFBQyxFQUFBRyxFQUFBRSxHQUFBRyxHQUFBLE9BQUFWLEVBQUFnRixvQkFBQTlFLEdBQUFVLEVBQUFBLEVBQUFxRCxPQUFBYixNQUFBLFNBQUFuRCxHQUFBLE9BQUFBLEVBQUFzRCxLQUFBdEQsRUFBQVEsTUFBQUcsRUFBQXFELE1BQUEsS0FBQXJCLEVBQUFELEdBQUF6QixFQUFBeUIsRUFBQTNCLEVBQUEsYUFBQUUsRUFBQXlCLEVBQUEvQixHQUFBLDBCQUFBTSxFQUFBeUIsRUFBQSxxREFBQTNDLEVBQUF5RixLQUFBLFNBQUF4RixHQUFBLElBQUFELEVBQUFHLE9BQUFGLEdBQUFDLEVBQUEsV0FBQUcsS0FBQUwsRUFBQUUsRUFBQXVFLEtBQUFwRSxHQUFBLE9BQUFILEVBQUF3RixVQUFBLFNBQUF6QixJQUFBLEtBQUEvRCxFQUFBNEUsUUFBQSxLQUFBN0UsRUFBQUMsRUFBQXlGLE1BQUEsR0FBQTFGLEtBQUFELEVBQUEsT0FBQWlFLEVBQUF4RCxNQUFBUixFQUFBZ0UsRUFBQVYsTUFBQSxFQUFBVSxDQUFBLFFBQUFBLEVBQUFWLE1BQUEsRUFBQVUsQ0FBQSxHQUFBakUsRUFBQTBDLE9BQUFBLEVBQUFqQixFQUFBckIsVUFBQSxDQUFBNkUsWUFBQXhELEVBQUFtRCxNQUFBLFNBQUE1RSxHQUFBLFFBQUE0RixLQUFBLE9BQUEzQixLQUFBLE9BQUFOLEtBQUEsS0FBQUMsTUFBQTNELEVBQUEsS0FBQXNELE1BQUEsT0FBQUUsU0FBQSxVQUFBRCxPQUFBLFlBQUEzQixJQUFBNUIsRUFBQSxLQUFBdUUsV0FBQTNCLFFBQUE2QixJQUFBMUUsRUFBQSxRQUFBRSxLQUFBLFdBQUFBLEVBQUEyRixPQUFBLElBQUF4RixFQUFBeUIsS0FBQSxLQUFBNUIsS0FBQTJFLE9BQUEzRSxFQUFBNEYsTUFBQSxXQUFBNUYsR0FBQUQsRUFBQSxFQUFBOEYsS0FBQSxnQkFBQXhDLE1BQUEsTUFBQXRELEVBQUEsS0FBQXVFLFdBQUEsR0FBQUcsV0FBQSxhQUFBMUUsRUFBQTJCLEtBQUEsTUFBQTNCLEVBQUE0QixJQUFBLFlBQUFtRSxJQUFBLEVBQUFuQyxrQkFBQSxTQUFBN0QsR0FBQSxRQUFBdUQsS0FBQSxNQUFBdkQsRUFBQSxJQUFBRSxFQUFBLGNBQUErRixFQUFBNUYsRUFBQUUsR0FBQSxPQUFBSyxFQUFBZ0IsS0FBQSxRQUFBaEIsRUFBQWlCLElBQUE3QixFQUFBRSxFQUFBK0QsS0FBQTVELEVBQUFFLElBQUFMLEVBQUFzRCxPQUFBLE9BQUF0RCxFQUFBMkIsSUFBQTVCLEtBQUFNLENBQUEsU0FBQUEsRUFBQSxLQUFBaUUsV0FBQU0sT0FBQSxFQUFBdkUsR0FBQSxJQUFBQSxFQUFBLEtBQUFHLEVBQUEsS0FBQThELFdBQUFqRSxHQUFBSyxFQUFBRixFQUFBaUUsV0FBQSxZQUFBakUsRUFBQTBELE9BQUEsT0FBQTZCLEVBQUEsVUFBQXZGLEVBQUEwRCxRQUFBLEtBQUF3QixLQUFBLEtBQUE5RSxFQUFBVCxFQUFBeUIsS0FBQXBCLEVBQUEsWUFBQU0sRUFBQVgsRUFBQXlCLEtBQUFwQixFQUFBLGlCQUFBSSxHQUFBRSxFQUFBLFNBQUE0RSxLQUFBbEYsRUFBQTJELFNBQUEsT0FBQTRCLEVBQUF2RixFQUFBMkQsVUFBQSxXQUFBdUIsS0FBQWxGLEVBQUE0RCxXQUFBLE9BQUEyQixFQUFBdkYsRUFBQTRELFdBQUEsU0FBQXhELEdBQUEsUUFBQThFLEtBQUFsRixFQUFBMkQsU0FBQSxPQUFBNEIsRUFBQXZGLEVBQUEyRCxVQUFBLFlBQUFyRCxFQUFBLE1BQUFzQyxNQUFBLGtEQUFBc0MsS0FBQWxGLEVBQUE0RCxXQUFBLE9BQUEyQixFQUFBdkYsRUFBQTRELFdBQUEsS0FBQVIsT0FBQSxTQUFBN0QsRUFBQUQsR0FBQSxRQUFBRSxFQUFBLEtBQUFzRSxXQUFBTSxPQUFBLEVBQUE1RSxHQUFBLElBQUFBLEVBQUEsS0FBQUssRUFBQSxLQUFBaUUsV0FBQXRFLEdBQUEsR0FBQUssRUFBQTZELFFBQUEsS0FBQXdCLE1BQUF2RixFQUFBeUIsS0FBQXZCLEVBQUEsb0JBQUFxRixLQUFBckYsRUFBQStELFdBQUEsS0FBQTVELEVBQUFILEVBQUEsT0FBQUcsSUFBQSxVQUFBVCxHQUFBLGFBQUFBLElBQUFTLEVBQUEwRCxRQUFBcEUsR0FBQUEsR0FBQVUsRUFBQTRELGFBQUE1RCxFQUFBLFVBQUFFLEVBQUFGLEVBQUFBLEVBQUFpRSxXQUFBLFVBQUEvRCxFQUFBZ0IsS0FBQTNCLEVBQUFXLEVBQUFpQixJQUFBN0IsRUFBQVUsR0FBQSxLQUFBOEMsT0FBQSxZQUFBUyxLQUFBdkQsRUFBQTRELFdBQUFuQyxHQUFBLEtBQUErRCxTQUFBdEYsRUFBQSxFQUFBc0YsU0FBQSxTQUFBakcsRUFBQUQsR0FBQSxhQUFBQyxFQUFBMkIsS0FBQSxNQUFBM0IsRUFBQTRCLElBQUEsZ0JBQUE1QixFQUFBMkIsTUFBQSxhQUFBM0IsRUFBQTJCLEtBQUEsS0FBQXFDLEtBQUFoRSxFQUFBNEIsSUFBQSxXQUFBNUIsRUFBQTJCLE1BQUEsS0FBQW9FLEtBQUEsS0FBQW5FLElBQUE1QixFQUFBNEIsSUFBQSxLQUFBMkIsT0FBQSxjQUFBUyxLQUFBLGtCQUFBaEUsRUFBQTJCLE1BQUE1QixJQUFBLEtBQUFpRSxLQUFBakUsR0FBQW1DLENBQUEsRUFBQWdFLE9BQUEsU0FBQWxHLEdBQUEsUUFBQUQsRUFBQSxLQUFBd0UsV0FBQU0sT0FBQSxFQUFBOUUsR0FBQSxJQUFBQSxFQUFBLEtBQUFFLEVBQUEsS0FBQXNFLFdBQUF4RSxHQUFBLEdBQUFFLEVBQUFvRSxhQUFBckUsRUFBQSxZQUFBaUcsU0FBQWhHLEVBQUF5RSxXQUFBekUsRUFBQXFFLFVBQUFHLEVBQUF4RSxHQUFBaUMsQ0FBQSxrQkFBQWxDLEdBQUEsUUFBQUQsRUFBQSxLQUFBd0UsV0FBQU0sT0FBQSxFQUFBOUUsR0FBQSxJQUFBQSxFQUFBLEtBQUFFLEVBQUEsS0FBQXNFLFdBQUF4RSxHQUFBLEdBQUFFLEVBQUFrRSxTQUFBbkUsRUFBQSxLQUFBSSxFQUFBSCxFQUFBeUUsV0FBQSxhQUFBdEUsRUFBQXVCLEtBQUEsS0FBQXJCLEVBQUFGLEVBQUF3QixJQUFBNkMsRUFBQXhFLEVBQUEsUUFBQUssQ0FBQSxRQUFBK0MsTUFBQSwwQkFBQThDLGNBQUEsU0FBQXBHLEVBQUFFLEVBQUFHLEdBQUEsWUFBQW9ELFNBQUEsQ0FBQTVDLFNBQUE2QixFQUFBMUMsR0FBQWdFLFdBQUE5RCxFQUFBZ0UsUUFBQTdELEdBQUEsY0FBQW1ELFNBQUEsS0FBQTNCLElBQUE1QixHQUFBa0MsQ0FBQSxHQUFBbkMsQ0FBQSxVQUFBcUcsRUFBQWhHLEVBQUFKLEVBQUFELEVBQUFFLEVBQUFLLEVBQUFLLEVBQUFFLEdBQUEsUUFBQUosRUFBQUwsRUFBQU8sR0FBQUUsR0FBQUUsRUFBQU4sRUFBQUQsS0FBQSxPQUFBSixHQUFBLFlBQUFMLEVBQUFLLEVBQUEsQ0FBQUssRUFBQTZDLEtBQUF0RCxFQUFBZSxHQUFBd0UsUUFBQXRDLFFBQUFsQyxHQUFBb0MsS0FBQWxELEVBQUFLLEVBQUEsQ0FDQSxJQUFJK0YsRUNDQUMsRUQ4QkgsU0FBQUMsSUFBQSxPQWhDRG5HLEVBZ0NDTixJQUFBb0YsTUE3Qk0sU0FBQXNCLElBQUEsT0FBQTFHLElBQUF1QixNQUFBLFNBQUFvRixHQUFBLGNBQUFBLEVBQUFkLEtBQUFjLEVBQUF6QyxNQUFBLGNBQUF5QyxFQUFBNUMsT0FBQSxTQUNFLElBQUkwQixTQUFRLFNBQUN0QyxFQUFTeUQsR0FDM0IsR0FBSUwsRUFDRnBELEVBQVFvRCxPQURWLENBSUEsSUFBTU0sRUFBVUMsVUFBVUMsS0FBSyxtQkFBb0IsR0FFbkRGLEVBQVFHLFFBQVUsU0FBQ0MsR0FDakJDLFFBQVFDLE1BQU0sa0JBQW1CRixFQUFNRyxPQUFPQyxXQUM5Q1QsRUFBT0ssRUFBTUcsT0FBT0MsVUFDdEIsRUFFQVIsRUFBUVMsZ0JBQWtCLFNBQUNMLEdBRXpCLElBQU1NLEdBRE5oQixFQUFLVSxFQUFNRyxPQUFPSSxRQUNLQyxrQkFBa0IsVUFBVyxDQUFFQyxRQUFTLE9BQy9ESCxFQUFZSSxZQUFZLE1BQU8sTUFBTyxDQUFFQyxRQUFRLElBQ2hETCxFQUFZSSxZQUFZLFFBQVMsUUFBUyxDQUFFQyxRQUFRLElBQ3BETCxFQUFZSSxZQUFZLE9BQVEsT0FBUSxDQUFFQyxRQUFRLEVBQU9DLFlBQVksSUFDckVOLEVBQVlJLFlBQVksVUFBVyxVQUFXLENBQUVDLFFBQVEsSUFDeERMLEVBQVlJLFlBQVksZ0JBQWlCLGdCQUFpQixDQUFFQyxRQUFRLElBQ3BFVixRQUFRWSxJQUFJLG9CQUNkLEVBRUFqQixFQUFRa0IsVUFBWSxTQUFDZCxHQUNuQlYsRUFBS1UsRUFBTUcsT0FBT0ksT0FDbEJyRSxFQUFRb0QsRUFDVixDQXRCQSxDQXVCRixLQUFFLHdCQUFBSSxFQUFBWCxPQUFBLEdBQUFVLEVBQUEsSUFDSEQsRUFoQ0QsZUFBQXZHLEVBQUEsS0FBQUQsRUFBQStILFVBQUEsV0FBQXZDLFNBQUEsU0FBQXRGLEVBQUFLLEdBQUEsSUFBQUssRUFBQVAsRUFBQTJILE1BQUEvSCxFQUFBRCxHQUFBLFNBQUFpSSxFQUFBNUgsR0FBQWdHLEVBQUF6RixFQUFBVixFQUFBSyxFQUFBMEgsRUFBQUMsRUFBQSxPQUFBN0gsRUFBQSxVQUFBNkgsRUFBQTdILEdBQUFnRyxFQUFBekYsRUFBQVYsRUFBQUssRUFBQTBILEVBQUFDLEVBQUEsUUFBQTdILEVBQUEsQ0FBQTRILE9BQUEsUUFnQ0NELE1BQUEsS0FBQUQsV0FoQ0QsSUFBQTFILENBZ0NDLENDdUZELFNBQVM4SCxJQUNQQyxPQUFPQyxRQUFRQyxNQUFNQyxJQUFJLG1CQUFtQixTQUFDaEIsR0FDM0NpQixTQUFTQyxlQUFlLG1CQUFtQkMsWUFBYyxXQUFIQyxPQUFjcEIsRUFBT3FCLGdCQUFlLGVBQzVGLEdBQ0YsQ0F2SEFKLFNBQVNLLGlCQUFpQixvQkFBb0IsWUREdkMsV0FBMkIsT0FBQXJDLEVBQUF3QixNQUFDLEtBQURELFVBQUEsRUNFaENlLEdBQWUxRixNQUFLLFNBQUMyRixHQUNuQnhDLEVBQVl3QyxDQUNkLElBRUFQLFNBQVNDLGVBQWUsbUJBQW1CSSxpQkFBaUIsU0FBUyxXQUVuRVQsT0FBT1ksUUFBUUMsWUFBWSxDQUFFQyxPQUFRLGlCQUFrQixTQUFDQyxHQUN0RGxDLFFBQVFZLElBQUlzQixFQUFTQyxRQUNyQkMsTUFBTSxvREFDUixHQUNGLElBRUFiLFNBQVNDLGVBQWUsY0FBY0ksaUJBQWlCLFNBQVMsV0FFOURULE9BQU9ZLFFBQVFDLFlBQVksQ0FBRUMsT0FBUSwyQkFBNEIsU0FBQ0MsR0FDaEVsQyxRQUFRWSxJQUFJc0IsRUFBU0MsUUFDckJqQixHQUNGLEdBQ0YsSUFFQUssU0FBU0MsZUFBZSxvQkFBb0JJLGlCQUFpQixTQUFTLFdBQ3BFVCxPQUFPWSxRQUFRQyxZQUFZLENBQUVDLE9BQVEscUJBQXNCLFNBQUNDLEdBQzFEbEMsUUFBUVksSUFBSXNCLEVBQVNDLFFBQ3JCQyxNQUFNLCtCQUNSLEdBQ0YsSUFFQWIsU0FBU0MsZUFBZSxhQUFhSSxpQkFBaUIsU0FBUyxXQUM3RCxJQUFNUyxFQUFRZCxTQUFTQyxlQUFlLGVBQWVoSSxNQUFNOEksT0FBT0MsY0FDbEUsR0FBYyxLQUFWRixFQUFKLENBTUEsSUFDTWhDLEVBRGNmLEVBQVVrRCxZQUFZLENBQUMsV0FBWSxZQUN2Qm5DLFlBQVksV0FFdENvQyxFQUFVLEdBQ2hCcEMsRUFBWXFDLGFBQWE3QixVQUFZLFNBQUNkLEdBQ3BDLElBQU00QyxFQUFTNUMsRUFBTUcsT0FBT0ksT0FDNUIsR0FBSXFDLEVBQVEsQ0FDVixJQUFNQyxFQUFPRCxFQUFPbkosT0FFakJvSixFQUFLQyxPQUFTRCxFQUFLQyxNQUFNTixjQUFjTyxTQUFTVCxJQUNoRE8sRUFBS0csU0FBV0gsRUFBS0csUUFBUVIsY0FBY08sU0FBU1QsSUFDcERPLEVBQUtJLE1BQVFDLE1BQU1DLFFBQVFOLEVBQUtJLE9BQVNKLEVBQUtJLEtBQUtHLE1BQUssU0FBQUMsR0FBRyxPQUFJQSxFQUFJYixjQUFjTyxTQUFTVCxFQUFNLE1BR2pHSSxFQUFRakYsS0FBS29GLEdBRWZELEVBQU0sVUFDUixNQWdCTixTQUF3QkYsR0FDdEIsSUFBTVksRUFBYTlCLFNBQVNDLGVBQWUsV0FHM0MsR0FGQTZCLEVBQVdDLFVBQVksR0FFQSxJQUFuQmIsRUFBUTVFLE9BQVosQ0FNQSxJQUFNMEYsRUFBc0JoQyxTQUFTaUMsY0FBYyxPQUNuREQsRUFBb0JFLFVBQVksdUJBRWhDaEIsRUFBUTdHLFNBQVEsU0FBQ2dILEdBQ2YsSUFBTWMsRUFBVW5DLFNBQVNpQyxjQUFjLE9BQ3ZDRSxFQUFRRCxVQUFZLGNBRXBCLElBQU1aLEVBQVF0QixTQUFTaUMsY0FBYyxLQUNyQ1gsRUFBTWMsS0FBT2YsRUFBS2dCLElBQ2xCZixFQUFNcEIsWUFBY21CLEVBQUtDLE9BQVNELEVBQUtnQixJQUN2Q2YsRUFBTTNDLE9BQVMsU0FFZixJQUFNOEMsRUFBT3pCLFNBQVNpQyxjQUFjLEtBQ3BDUixFQUFLdkIsWUFBYyxTQUFIQyxPQUFZa0IsRUFBS0ksS0FBS2EsS0FBSyxPQUUzQyxJQUFNZCxFQUFVeEIsU0FBU2lDLGNBQWMsS0FDdkNULEVBQVF0QixZQUFjLFlBQUhDLE9BQWVrQixFQUFLRyxTQUV2Q1csRUFBUUksWUFBWWpCLEdBQ3BCYSxFQUFRSSxZQUFZZCxHQUNwQlUsRUFBUUksWUFBWWYsR0FFcEJRLEVBQW9CTyxZQUFZSixFQUNsQyxJQUVBTCxFQUFXUyxZQUFZUCxHQUd2QmhDLFNBQVNLLGlCQUFpQixTQUFTLFNBQUM3QixHQUM3QnNELEVBQVdVLFNBQVNoRSxFQUFNRyxVQUM3Qm1ELEVBQVdDLFVBQVksR0FDdkIvQixTQUFTQyxlQUFlLGVBQWVoSSxNQUFRLEdBRW5ELEdBcENBLE1BRkU2SixFQUFXNUIsWUFBYyxtQkF1QzdCLENBMURRdUMsQ0FBZXZCLEVBRW5CLENBeEJBLE1BRkVMLE1BQU0sOEJBMkJWLElBRUFiLFNBQVNDLGVBQWUsb0JBQW9CSSxpQkFBaUIsU0FBUyxXQUNwRVQsT0FBT1ksUUFBUUMsWUFBWSxDQUFFQyxPQUFRLGtCQUN2QyxJQUdBZixHQUVGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hyb21lLWhpc3RvcnktYW5hbHlzZXIvLi9zcmMvdXRpbHMvZGIuanMiLCJ3ZWJwYWNrOi8vY2hyb21lLWhpc3RvcnktYW5hbHlzZXIvLi9zcmMvcG9wdXAvcG9wdXAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZGIuanNcblxubGV0IGRiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb3BlbkRhdGFiYXNlKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmIChkYikge1xuICAgICAgcmVzb2x2ZShkYik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbignSGlzdG9yeUluZGV4ZXJEQicsIDEpO1xuXG4gICAgcmVxdWVzdC5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBlcnJvcjonLCBldmVudC50YXJnZXQuZXJyb3JDb2RlKTtcbiAgICAgIHJlamVjdChldmVudC50YXJnZXQuZXJyb3JDb2RlKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoJ2hpc3RvcnknLCB7IGtleVBhdGg6ICdpZCcgfSk7XG4gICAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleCgndXJsJywgJ3VybCcsIHsgdW5pcXVlOiBmYWxzZSB9KTtcbiAgICAgIG9iamVjdFN0b3JlLmNyZWF0ZUluZGV4KCd0aXRsZScsICd0aXRsZScsIHsgdW5pcXVlOiBmYWxzZSB9KTtcbiAgICAgIG9iamVjdFN0b3JlLmNyZWF0ZUluZGV4KCd0YWdzJywgJ3RhZ3MnLCB7IHVuaXF1ZTogZmFsc2UsIG11bHRpRW50cnk6IHRydWUgfSk7XG4gICAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleCgnc3VtbWFyeScsICdzdW1tYXJ5JywgeyB1bmlxdWU6IGZhbHNlIH0pO1xuICAgICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoJ2xhc3RWaXNpdFRpbWUnLCAnbGFzdFZpc2l0VGltZScsIHsgdW5pcXVlOiB0cnVlIH0pO1xuICAgICAgY29uc29sZS5sb2coXCJEYXRhYmFzZSB1cGdyYWRlZFwiKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQpID0+IHtcbiAgICAgIGRiID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHJlc29sdmUoZGIpO1xuICAgIH07XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYXJEYXRhYmFzZSgpIHtcbiAgYXdhaXQgb3BlbkRhdGFiYXNlKCk7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbJ2hpc3RvcnknXSwgJ3JlYWR3cml0ZScpO1xuICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ2hpc3RvcnknKTtcbiAgICBjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUuY2xlYXIoKTtcbiAgICBjb25zb2xlLmxvZyhcIkNsZWFyaW5nIGRhdGFiYXNlXCIpO1xuXG4gICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcblxuICAgIHJlcXVlc3Qub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgcmVqZWN0KGV2ZW50LnRhcmdldC5lcnJvckNvZGUpO1xuICAgIH07XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkSGlzdG9yeUl0ZW0oaXRlbSkge1xuICBhd2FpdCBvcGVuRGF0YWJhc2UoKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKFsnaGlzdG9yeSddLCAncmVhZHdyaXRlJyk7XG4gICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnaGlzdG9yeScpO1xuICAgIGNvbnN0IGluZGV4ID0gb2JqZWN0U3RvcmUuaW5kZXgoJ2xhc3RWaXNpdFRpbWUnKTtcblxuICAgIC8vIENoZWNrIGlmIGFuIGl0ZW0gd2l0aCB0aGUgc2FtZSBsYXN0VmlzaXRUaW1lIGFscmVhZHkgZXhpc3RzXG4gICAgY29uc3QgY2hlY2tSZXF1ZXN0ID0gaW5kZXguZ2V0KGl0ZW0ubGFzdFZpc2l0VGltZSk7XG5cbiAgICBjaGVja1JlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LnJlc3VsdCkge1xuICAgICAgICAvLyBJdGVtIHdpdGggdGhlIHNhbWUgbGFzdFZpc2l0VGltZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjb25zb2xlLmxvZyhcIkl0ZW0gd2l0aCB0aGUgc2FtZSBsYXN0VmlzaXRUaW1lIGFscmVhZHkgZXhpc3RzLCBub3QgYWRkaW5nLlwiKTtcbiAgICAgICAgcmVzb2x2ZSgpOyAvLyBSZXNvbHZlIHdpdGhvdXQgYWRkaW5nXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBObyBpdGVtIHdpdGggdGhlIHNhbWUgbGFzdFZpc2l0VGltZSwgcHJvY2VlZCB0byBhZGRcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG9iamVjdFN0b3JlLnB1dChpdGVtKTtcblxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgSGlzdG9yeSBpdGVtIGFkZGVkYCk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlcXVlc3Qub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFkZGluZyBpdGVtOicsIGV2ZW50LnRhcmdldC5lcnJvckNvZGUpO1xuICAgICAgICAgIHJlamVjdChldmVudC50YXJnZXQuZXJyb3JDb2RlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY2hlY2tSZXF1ZXN0Lm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGxhc3RWaXNpdFRpbWU6JywgZXZlbnQudGFyZ2V0LmVycm9yQ29kZSk7XG4gICAgICByZWplY3QoZXZlbnQudGFyZ2V0LmVycm9yQ29kZSk7XG4gICAgfTtcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxIaXN0b3J5SXRlbXMoKSB7XG4gIGF3YWl0IG9wZW5EYXRhYmFzZSgpO1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oWydoaXN0b3J5J10sICdyZWFkb25seScpO1xuICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ2hpc3RvcnknKTtcbiAgICBjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUuZ2V0QWxsKCk7XG5cbiAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xuICAgICAgcmVzb2x2ZShldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgIGNvbnNvbGUubG9nKFwiQWxsIGhpc3RvcnkgaXRlbXMgZmV0Y2hlZFwiKTtcbiAgICB9O1xuXG4gICAgcmVxdWVzdC5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICByZWplY3QoZXZlbnQudGFyZ2V0LmVycm9yQ29kZSk7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhbGwgaGlzdG9yeSBpdGVtczonLCBldmVudC50YXJnZXQuZXJyb3JDb2RlKTtcbiAgICB9O1xuICB9KTtcbn1cblxuXG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGlzdG9yeSBpdGVtIHdpdGggdGhlIHNwZWNpZmllZCBsYXN0VmlzaXRUaW1lIGV4aXN0cyBpbiB0aGUgSW5kZXhlZERCLlxuICogQHBhcmFtIHtudW1iZXJ9IGxhc3RWaXNpdFRpbWUgLSBUaGUgbGFzdCB2aXNpdCB0aW1lIG9mIHRoZSBoaXN0b3J5IGl0ZW0uXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gLSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byB0cnVlIGlmIHRoZSBpdGVtIGV4aXN0cywgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tJZkl0ZW1FeGlzdHMobGFzdFZpc2l0VGltZSkge1xuICAvLyBFbnN1cmUgdGhlIGRhdGFiYXNlIGlzIG9wZW5cbiAgYXdhaXQgb3BlbkRhdGFiYXNlKCk7XG5cbiAgdHJ5IHtcbiAgICAvLyBTdGFydCBhIHJlYWRvbmx5IHRyYW5zYWN0aW9uXG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihbJ2hpc3RvcnknXSwgJ3JlYWRvbmx5Jyk7XG4gICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSgnaGlzdG9yeScpO1xuICAgIGNvbnN0IGluZGV4ID0gb2JqZWN0U3RvcmUuaW5kZXgoJ2xhc3RWaXNpdFRpbWUnKTtcblxuICAgIC8vIEluaXRpYXRlIHRoZSBnZXQgcmVxdWVzdFxuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleC5nZXQobGFzdFZpc2l0VGltZSk7XG5cbiAgICAvLyBBd2FpdCB0aGUgcmVzdWx0IG9mIHRoZSBnZXQgcmVxdWVzdFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHByb21pc2lmeVJlcXVlc3QocmVxdWVzdCk7XG5cbiAgICAvLyBEZXRlcm1pbmUgaWYgdGhlIGl0ZW0gZXhpc3RzXG4gICAgY29uc3QgZXhpc3RzID0gcmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgcmVzdWx0ICE9PSBudWxsO1xuXG4gICAgLy8gY29uc29sZS5sb2coYEl0ZW0gZXhpc3RzIGZvciBsYXN0VmlzaXRUaW1lICR7bGFzdFZpc2l0VGltZX06ICR7ZXhpc3RzfWApO1xuXG4gICAgcmV0dXJuIGV4aXN0cztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBjaGVja2luZyBpZiBpdGVtIGV4aXN0cyBmb3IgbGFzdFZpc2l0VGltZSAke2xhc3RWaXNpdFRpbWV9OmAsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjsgLy8gUHJvcGFnYXRlIHRoZSBlcnJvciB0byB0aGUgY2FsbGVyXG4gIH1cbn1cblxuLyoqXG4gKiBQcm9taXNpZmllcyBhbiBJbmRleGVkREIgcmVxdWVzdC5cbiAqIEBwYXJhbSB7SURCUmVxdWVzdH0gcmVxdWVzdCAtIFRoZSBJbmRleGVkREIgcmVxdWVzdCBvYmplY3QuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSAtIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHJlcXVlc3QgcmVzdWx0LlxuICovXG5mdW5jdGlvbiBwcm9taXNpZnlSZXF1ZXN0KHJlcXVlc3QpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9ICgpID0+IHJlc29sdmUocmVxdWVzdC5yZXN1bHQpO1xuICAgIHJlcXVlc3Qub25lcnJvciA9ICgpID0+IHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgfSk7XG59IiwiaW1wb3J0IHsgb3BlbkRhdGFiYXNlIH0gZnJvbSAnLi4vdXRpbHMvZGIuanMnO1xuaW1wb3J0ICcuL3BvcHVwLXN0eWxlcy5jc3MnO1xuXG5sZXQgbG9hZGVkX2RiO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBvcGVuRGF0YWJhc2UoKS50aGVuKChkYXRhYmFzZSkgPT4ge1xuICAgIGxvYWRlZF9kYiA9IGRhdGFiYXNlO1xuICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5kZXhPbGREYXRhQnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gU2VuZCBtZXNzYWdlIHRvIGJhY2tncm91bmQgc2NyaXB0IHRvIGluZGV4IG9sZCBkYXRhXG4gICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2UoeyBhY3Rpb246ICdpbmRleE9sZERhdGEnIH0sIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgIGFsZXJ0KCdJbmRleGluZyBvbGQgZGF0YSBzdGFydGVkLiBUaGlzIG1heSB0YWtlIGEgd2hpbGUuJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWZyZXNoQnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gU2VuZCBtZXNzYWdlIHRvIGJhY2tncm91bmQgc2NyaXB0IHRvIGluZGV4IG9sZCBkYXRhXG4gICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2UoeyBhY3Rpb246ICdyZWZyZXNoSW5kZXhQZXJjZW50YWdlJyB9LCAocmVzcG9uc2UpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICBzZXRJbmRleFBlcmNlbnRhZ2UoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRpbnVlSW5kZXhpbmcnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7IGFjdGlvbjogJ2NvbnRpbnVlSW5kZXhpbmcnIH0sIChyZXNwb25zZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgIGFsZXJ0KCdJbmRleGluZyBvbGQgZGF0YSBjb250aW51ZWQuJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hCdG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBxdWVyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWFyY2hJbnB1dCcpLnZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChxdWVyeSA9PT0gJycpIHtcbiAgICAgIGFsZXJ0KCdQbGVhc2UgZW50ZXIgYSBzZWFyY2ggdGVybS4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTZWFyY2ggdGhlIGRhdGFiYXNlXG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBsb2FkZWRfZGIudHJhbnNhY3Rpb24oWydoaXN0b3J5J10sICdyZWFkb25seScpO1xuICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoJ2hpc3RvcnknKTtcblxuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICBjb25zdCBpdGVtID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gKFxuICAgICAgICAgIChpdGVtLnRpdGxlICYmIGl0ZW0udGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSkpIHx8XG4gICAgICAgICAgKGl0ZW0uc3VtbWFyeSAmJiBpdGVtLnN1bW1hcnkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSkpIHx8XG4gICAgICAgICAgKGl0ZW0udGFncyAmJiBBcnJheS5pc0FycmF5KGl0ZW0udGFncykgJiYgaXRlbS50YWdzLnNvbWUodGFnID0+IHRhZy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSkpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGlzcGxheSByZXN1bHRzXG4gICAgICAgIGRpc3BsYXlSZXN1bHRzKHJlc3VsdHMpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hvd0Rhc2hib2FyZEJ0blwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHsgYWN0aW9uOiBcImRpc3BsYXlTdW1tYXJ5XCIgfSk7XG4gIH0pO1xuXG4gIC8vIGZldGNoIGluZGV4IHBlcmNlbnRhZ2VcbiAgc2V0SW5kZXhQZXJjZW50YWdlKCk7XG4gIFxufSk7XG5cbmZ1bmN0aW9uIGRpc3BsYXlSZXN1bHRzKHJlc3VsdHMpIHtcbiAgY29uc3QgcmVzdWx0c0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHRzJyk7XG4gIHJlc3VsdHNEaXYuaW5uZXJIVE1MID0gJyc7XG5cbiAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmVzdWx0c0Rpdi50ZXh0Q29udGVudCA9ICdObyByZXN1bHRzIGZvdW5kLic7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gQ3JlYXRlIGEgc2Nyb2xsYWJsZSBjb250YWluZXJcbiAgY29uc3Qgc2Nyb2xsYWJsZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzY3JvbGxhYmxlQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdzY3JvbGxhYmxlLWNvbnRhaW5lcic7XG5cbiAgcmVzdWx0cy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgY29uc3QgaXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGl0ZW1EaXYuY2xhc3NOYW1lID0gJ3Jlc3VsdC1pdGVtJztcblxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIHRpdGxlLmhyZWYgPSBpdGVtLnVybDtcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9IGl0ZW0udGl0bGUgfHwgaXRlbS51cmw7XG4gICAgdGl0bGUudGFyZ2V0ID0gJ19ibGFuayc7XG5cbiAgICBjb25zdCB0YWdzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgIHRhZ3MudGV4dENvbnRlbnQgPSBgVGFnczogJHtpdGVtLnRhZ3Muam9pbignLCAnKX1gO1xuXG4gICAgY29uc3Qgc3VtbWFyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBzdW1tYXJ5LnRleHRDb250ZW50ID0gYFN1bW1hcnk6ICR7aXRlbS5zdW1tYXJ5fWA7XG5cbiAgICBpdGVtRGl2LmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICBpdGVtRGl2LmFwcGVuZENoaWxkKHRhZ3MpO1xuICAgIGl0ZW1EaXYuYXBwZW5kQ2hpbGQoc3VtbWFyeSk7XG5cbiAgICBzY3JvbGxhYmxlQ29udGFpbmVyLmFwcGVuZENoaWxkKGl0ZW1EaXYpO1xuICB9KTtcblxuICByZXN1bHRzRGl2LmFwcGVuZENoaWxkKHNjcm9sbGFibGVDb250YWluZXIpO1xuXG4gIC8vIEFkZCBldmVudCBsaXN0ZW5lciB0byBjb25kZW5zZSB0aGUgY29udGFpbmVyIGFuZCBjbGVhciBzZWFyY2ggaW5wdXRcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoIXJlc3VsdHNEaXYuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgcmVzdWx0c0Rpdi5pbm5lckhUTUwgPSAnJzsgLy8gQ29uZGVuc2UgdGhlIGNvbnRhaW5lclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaElucHV0JykudmFsdWUgPSAnJzsgLy8gQ2xlYXIgdGhlIHNlYXJjaCBpbnB1dFxuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNldEluZGV4UGVyY2VudGFnZSgpIHtcbiAgY2hyb21lLnN0b3JhZ2UubG9jYWwuZ2V0KCdpbmRleFBlcmNlbnRhZ2UnLCAocmVzdWx0KSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZGV4UGVyY2VudGFnZScpLnRleHRDb250ZW50ID0gYEluZGV4ZWQgJHtyZXN1bHQuaW5kZXhQZXJjZW50YWdlfSUgb2YgaGlzdG9yeWA7XG4gIH0pO1xufSJdLCJuYW1lcyI6WyJfcmVnZW5lcmF0b3JSdW50aW1lIiwiZSIsInQiLCJyIiwiT2JqZWN0IiwicHJvdG90eXBlIiwibiIsImhhc093blByb3BlcnR5IiwibyIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJpIiwiU3ltYm9sIiwiYSIsIml0ZXJhdG9yIiwiYyIsImFzeW5jSXRlcmF0b3IiLCJ1IiwidG9TdHJpbmdUYWciLCJkZWZpbmUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ3cmFwIiwiR2VuZXJhdG9yIiwiY3JlYXRlIiwiQ29udGV4dCIsIm1ha2VJbnZva2VNZXRob2QiLCJ0cnlDYXRjaCIsInR5cGUiLCJhcmciLCJjYWxsIiwiaCIsImwiLCJmIiwicyIsInkiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwicCIsImQiLCJnZXRQcm90b3R5cGVPZiIsInYiLCJ2YWx1ZXMiLCJnIiwiZGVmaW5lSXRlcmF0b3JNZXRob2RzIiwiZm9yRWFjaCIsIl9pbnZva2UiLCJBc3luY0l0ZXJhdG9yIiwiaW52b2tlIiwiX3R5cGVvZiIsInJlc29sdmUiLCJfX2F3YWl0IiwidGhlbiIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiRXJyb3IiLCJkb25lIiwibWV0aG9kIiwiZGVsZWdhdGUiLCJtYXliZUludm9rZURlbGVnYXRlIiwic2VudCIsIl9zZW50IiwiZGlzcGF0Y2hFeGNlcHRpb24iLCJhYnJ1cHQiLCJUeXBlRXJyb3IiLCJyZXN1bHROYW1lIiwibmV4dCIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJwdXNoIiwicmVzZXRUcnlFbnRyeSIsImNvbXBsZXRpb24iLCJyZXNldCIsImlzTmFOIiwibGVuZ3RoIiwiZGlzcGxheU5hbWUiLCJpc0dlbmVyYXRvckZ1bmN0aW9uIiwiY29uc3RydWN0b3IiLCJuYW1lIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIlByb21pc2UiLCJrZXlzIiwicmV2ZXJzZSIsInBvcCIsInByZXYiLCJjaGFyQXQiLCJzbGljZSIsInN0b3AiLCJydmFsIiwiaGFuZGxlIiwiY29tcGxldGUiLCJmaW5pc2giLCJkZWxlZ2F0ZVlpZWxkIiwiYXN5bmNHZW5lcmF0b3JTdGVwIiwiZGIiLCJsb2FkZWRfZGIiLCJfb3BlbkRhdGFiYXNlIiwiX2NhbGxlZSIsIl9jb250ZXh0IiwicmVqZWN0IiwicmVxdWVzdCIsImluZGV4ZWREQiIsIm9wZW4iLCJvbmVycm9yIiwiZXZlbnQiLCJjb25zb2xlIiwiZXJyb3IiLCJ0YXJnZXQiLCJlcnJvckNvZGUiLCJvbnVwZ3JhZGVuZWVkZWQiLCJvYmplY3RTdG9yZSIsInJlc3VsdCIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwibXVsdGlFbnRyeSIsImxvZyIsIm9uc3VjY2VzcyIsImFyZ3VtZW50cyIsImFwcGx5IiwiX25leHQiLCJfdGhyb3ciLCJzZXRJbmRleFBlcmNlbnRhZ2UiLCJjaHJvbWUiLCJzdG9yYWdlIiwibG9jYWwiLCJnZXQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwidGV4dENvbnRlbnQiLCJjb25jYXQiLCJpbmRleFBlcmNlbnRhZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwib3BlbkRhdGFiYXNlIiwiZGF0YWJhc2UiLCJydW50aW1lIiwic2VuZE1lc3NhZ2UiLCJhY3Rpb24iLCJyZXNwb25zZSIsInN0YXR1cyIsImFsZXJ0IiwicXVlcnkiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJ0cmFuc2FjdGlvbiIsInJlc3VsdHMiLCJvcGVuQ3Vyc29yIiwiY3Vyc29yIiwiaXRlbSIsInRpdGxlIiwiaW5jbHVkZXMiLCJzdW1tYXJ5IiwidGFncyIsIkFycmF5IiwiaXNBcnJheSIsInNvbWUiLCJ0YWciLCJyZXN1bHRzRGl2IiwiaW5uZXJIVE1MIiwic2Nyb2xsYWJsZUNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJpdGVtRGl2IiwiaHJlZiIsInVybCIsImpvaW4iLCJhcHBlbmRDaGlsZCIsImNvbnRhaW5zIiwiZGlzcGxheVJlc3VsdHMiXSwic291cmNlUm9vdCI6IiJ9